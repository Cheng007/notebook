# 文件上传下载进度

js 里发送请求到后端可以通过 `XMLHttpRequest` 和 `fetch`，那么对于大文件传输进度如何得知？

- 上传场景
`fetch` 原生无法跟踪进度，但如果文件分片上传的话可以手动计算出大体进度
`XMLHttpRequest` 提供了 `progress` 事件，该事件会在请求接收到数据的时候被周期性触发

- 下载场景
`fetch` 原生也无法跟踪进度，但可以通过流式读取数据，手动计算出下载进度（后端需配合返回文件大小 `Content-Length`）
`XMLHttpRequest` 同理，可以根据 `progress` 事件来获取进度
