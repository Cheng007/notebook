# 代码片断

```js
/**
 * 获取数据类型
 * @param {*} data
 * @return 'string' | 'number' | 'object' | 'array' | 'function' | 'undefined' | 'null' | 'date' | 'regexp' | 'error'
 */
function type (data) {
  return Object.prototype.toString.call(data).slice(8, -1).toLowerCase()
}
```

```js
/**
 * 是否为实数
 */
function isLooseNumber(data) {
  return /^[+-]?([1-9]\d*|0)(\.\d+)?$/.test(data)
}
```

```js
/**
  * 最多保留maxDecimalDigits位小数
  * @param { Number } data 
  * @param { Number } maxDecimalDigits 最多保留小数位数
  * @param { Number } overHandleType 0-多余位数舍弃 1-多余位数四舍五入
  */
decimalDigitsMax(data, maxDecimalDigits = 2, overHandleType = 0) {
  if (!/^\d+$/.test(maxDecimalDigits)) {
    throw new Error('maxDecimalDigits 为正整数')
  }
  if (![0, 1].includes(overHandleType)) {
    throw new Error('overHandleType 为 0 或 1')
  }
  if (isLooseNumber(data)) {
    let suffix = String(data).split('.')[1]
    if (suffix && suffix.length > maxDecimalDigits) {
      let upData = data * 10 ** maxDecimalDigits
      let tempData = overHandleType === 0 ? Math.floor(upData) : Math.round(upData)
      return tempData / 10 ** maxDecimalDigits;
    } else {
      return data
    }
  } else {
    return data;
  }
}
```